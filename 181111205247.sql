/*
MySQL Backup
Source Server Version: 5.7.14
Source Database: tp5.1
Date: 2018/11/11 20:52:47
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
--  Table structure for `think_article`
-- ----------------------------
DROP TABLE IF EXISTS `think_article`;
CREATE TABLE `think_article` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL COMMENT '文章标题',
  `desc` varchar(255) NOT NULL COMMENT '简介',
  `class_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '分类',
  `img` varchar(255) NOT NULL DEFAULT '' COMMENT '图片',
  `content` text NOT NULL COMMENT '内容',
  `views` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '浏览量',
  `comments` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '评论数',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '状态',
  `create_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '编辑时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4;

-- ----------------------------
--  Table structure for `think_article_class`
-- ----------------------------
DROP TABLE IF EXISTS `think_article_class`;
CREATE TABLE `think_article_class` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `class_name` varchar(255) NOT NULL COMMENT '分类名称',
  `create_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4;

-- ----------------------------
--  Table structure for `think_auth_group`
-- ----------------------------
DROP TABLE IF EXISTS `think_auth_group`;
CREATE TABLE `think_auth_group` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `title` char(100) NOT NULL DEFAULT '' COMMENT '用户组中文名称',
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '状态：为1正常，为0禁用',
  `rules` char(80) NOT NULL DEFAULT '' COMMENT '用户组拥有的规则id， 多个规则","隔开',
  `create_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
--  Table structure for `think_auth_group_access`
-- ----------------------------
DROP TABLE IF EXISTS `think_auth_group_access`;
CREATE TABLE `think_auth_group_access` (
  `uid` mediumint(8) unsigned NOT NULL COMMENT '用户id',
  `group_id` mediumint(8) unsigned NOT NULL COMMENT '用户组id',
  UNIQUE KEY `uid_group_id` (`uid`,`group_id`),
  KEY `uid` (`uid`),
  KEY `group_id` (`group_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

-- ----------------------------
--  Table structure for `think_auth_rule`
-- ----------------------------
DROP TABLE IF EXISTS `think_auth_rule`;
CREATE TABLE `think_auth_rule` (
  `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` char(80) NOT NULL DEFAULT '' COMMENT '规则唯一标识',
  `title` char(20) NOT NULL DEFAULT '' COMMENT '规则中文名称',
  `pid` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '父级ID',
  `type` tinyint(1) NOT NULL DEFAULT '1',
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '状态：为1正常，为0禁用',
  `condition` char(100) NOT NULL DEFAULT '' COMMENT '规则表达式，为空表示存在就验证，不为空表示按照条件验证',
  `menu` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否是菜单；0:否，1:是',
  `icon` varchar(255) DEFAULT NULL COMMENT '菜单图标',
  `sort` int(11) unsigned NOT NULL DEFAULT '1' COMMENT '排序',
  PRIMARY KEY (`id`),
  KEY `name` (`name`) USING BTREE
) ENGINE=MyISAM AUTO_INCREMENT=18 DEFAULT CHARSET=utf8;

-- ----------------------------
--  Table structure for `think_config`
-- ----------------------------
DROP TABLE IF EXISTS `think_config`;
CREATE TABLE `think_config` (
  `id` int(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `name` varchar(255) NOT NULL COMMENT '配置字段名',
  `title` varchar(255) NOT NULL COMMENT '配置标题名称',
  `value` json NOT NULL COMMENT '配置参数',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '状态',
  `create_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '修改时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
--  Table structure for `think_login_log`
-- ----------------------------
DROP TABLE IF EXISTS `think_login_log`;
CREATE TABLE `think_login_log` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `uid` int(11) unsigned NOT NULL COMMENT '用户id',
  `user` varchar(255) NOT NULL COMMENT '账号',
  `name` varchar(255) NOT NULL COMMENT '用户名',
  `last_login_ip` varchar(32) NOT NULL COMMENT '登录ip',
  `create_time` int(11) unsigned NOT NULL COMMENT '登录时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
--  Table structure for `think_user`
-- ----------------------------
DROP TABLE IF EXISTS `think_user`;
CREATE TABLE `think_user` (
  `uid` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `user` varchar(32) NOT NULL COMMENT '账号',
  `name` varchar(255) NOT NULL COMMENT '用户名',
  `head` varchar(255) DEFAULT NULL COMMENT '头像',
  `password` varchar(255) NOT NULL COMMENT '密码',
  `login_count` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '登录次数',
  `last_login_ip` varchar(32) NOT NULL DEFAULT '0.0.0.0' COMMENT '最后登录ip地址',
  `last_login_time` int(10) unsigned NOT NULL DEFAULT '0',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否禁用；0: 禁用 1:正常',
  `updatapassword` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `create_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '修改时间',
  PRIMARY KEY (`uid`),
  UNIQUE KEY `user_unique` (`user`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
--  Records 
-- ----------------------------
INSERT INTO `think_article` VALUES ('1','测试','测试','1','','测试','0','0','1','1541926281','1541926281'), ('2','请问','请问','0','','请问','9','0','0','1541926281','1541933287'), ('3','测试','测试','0','','测试一下','0','0','0','1541926281','1541926281'), ('4','WEB程序设计》理论复习提纲','测试','1','','<p class=\"MsoNormal\" align=\"center\" style=\"text-align: center;\"><b><span lang=\"EN-US\">2013-2014</span></b><b><span>第一学期《<span lang=\"EN-US\">WEB</span>程序设计》理论复习提纲<span lang=\"EN-US\"><o:p></o:p></span></span></b></p><p class=\"MsoNormal\"><span>一、配置</span><span lang=\"EN-US\">php<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、使用</span><span lang=\"EN-US\">php.ini</span><span>配置</span><span lang=\"EN-US\">php</span><span>环境</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、重启</span><span lang=\"EN-US\">apache<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>二、变量和运算符</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、输出语句（</span><span lang=\"EN-US\">echo</span><span>、</span><span lang=\"EN-US\">printf</span><span>、</span><span lang=\"EN-US\">print</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、变量如何定义（合法的名称，由字母数字下划线组成，不能使用</span><span lang=\"EN-US\">PHP</span><span>内置的关键字和函数名）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>如：</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><b><span lang=\"EN-US\">$</span></b><span lang=\"EN-US\">session<b> = </b>55</span><span lang=\"EN-US\"> </span><span>错误</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">$163site = </span><span>“</span><span lang=\"EN-US\">www”; </span><span>错误</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、常用运算符</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）赋值运算符（</span><span lang=\"EN-US\">=</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）三目运算符（？</span><span lang=\"EN-US\">=</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">3</span><span>）字符串运算符（字符串连接符．）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">4</span><span>）逻辑运算符（</span><span lang=\"EN-US\">!&nbsp; &amp;&amp;&nbsp;&nbsp;\r\n||&nbsp; and&nbsp; or&nbsp; xor</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">5</span><span>）前置后置运算符</span><span lang=\"EN-US\">(++&nbsp;&nbsp; --)<o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">6</span><span>）错误抑制运算符</span><span lang=\"EN-US\">@</span><span>：忽略出现的函数错误。如果将其放置在一个</span><span lang=\"EN-US\">PHP</span><span>表达式之前，则该表达式可能产生的任何错误信息都被忽略掉。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>三、流程控制</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、三大控制结构</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、条件判断（</span><span lang=\"EN-US\">if</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、三个循环语句的区别（</span><span lang=\"EN-US\">for</span><span>、</span><span lang=\"EN-US\">do</span><span>……</span><span lang=\"EN-US\">while</span><span>，</span><span lang=\"EN-US\">while</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、循环控制（</span><span lang=\"EN-US\">break</span><span>和</span><span lang=\"EN-US\">continue</span><span>的区别）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">break</span><span>是跳出整个循环体；</span><span lang=\"EN-US\">continue</span><span>是跳出当前循环进入下一次循环</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>四、函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、函数如何定义和调用（</span><span lang=\"EN-US\">function</span><span>关键字定义，直接使用函数名调用）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、参数传递的方式，有何区别</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>参数传递的方式：按值传递和引用传递。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>区别：在引用传递方式中，当参数传递给函数时，函数不会再创建一个新变量，而是直接获得一个原有变量的引用。我们可以像使用其他变量一样使用该引用变量。其区别在于不是获得变量本身的值，而是指向原来的值。任何对该引用的修改都会影响到原始变量值。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、函数的调用</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、内置函数（</span><span lang=\"EN-US\">trim</span><span>，</span><span lang=\"EN-US\">date</span><span>，</span><span lang=\"EN-US\">time</span><span>，</span><span lang=\"EN-US\">explode</span><span>，</span><span lang=\"EN-US\">empty</span><span>，</span><span lang=\"EN-US\">isset</span><span>，</span><span lang=\"EN-US\">unset </span><span>，</span><span lang=\"EN-US\">die</span><span>，</span><span lang=\"EN-US\">exit</span><span>，</span><span lang=\"EN-US\">fopen</span><span>，</span><span lang=\"EN-US\">fclose</span><span>，</span><span lang=\"EN-US\">strip_tags,in_array</span><span>）的功能</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>五、数组（键名</span><span lang=\"EN-US\">key</span><span>和值</span><span lang=\"EN-US\">value</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、按照下标可分为数字索引数组和关联数组</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、按照维度可分为一维数组、二维数组和多维数组</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、数字索引数组从下标</span><span lang=\"EN-US\">0</span><span>开始，关联数组下标可以是数字和字符串的混合</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、初始化数组的方法（</span><span lang=\"EN-US\">array()</span><span>和直接为数组元素赋初值）</span><span lang=\"EN-US\"><o:p></o:p></span></p><div>\r\n\r\n<p class=\"MsoNormal\"><span lang=\"EN-US\">$numbers=array(2=&gt;\"one\",\"two\",\"three\",\"four\");//</span><span>键名值</span><span lang=\"EN-US\">2</span><span>、</span><span lang=\"EN-US\">3</span><span>、</span><span lang=\"EN-US\">4</span><span>、</span><span lang=\"EN-US\">5</span><span>的位置分别存储</span><span lang=\"EN-US\">4</span><span>个数据。</span><span lang=\"EN-US\"><o:p></o:p></span></p>\r\n\r\n<p class=\"MsoNormal\"><span lang=\"EN-US\">$numbers=array(1=&gt;\"one\",3=&gt;\"three\",5=&gt;\"zero\");//</span><span>数组的键名值为</span><span lang=\"EN-US\">1</span><span>、</span><span lang=\"EN-US\">3</span><span>、</span><span lang=\"EN-US\">5</span><span>的位置分别保存</span><span lang=\"EN-US\">one</span><span>、</span><span lang=\"EN-US\">three</span><span>和</span><span lang=\"EN-US\">zero</span><span>三个元素。</span><span lang=\"EN-US\"><o:p></o:p></span></p>\r\n\r\n<p class=\"MsoNormal\"><span lang=\"EN-US\">$numbers=array(\"one\",\"three\",5=&gt;\"zero\");//</span><span>数组的键名值为</span><span lang=\"EN-US\">0</span><span>、</span><span lang=\"EN-US\">1</span><span>、</span><span lang=\"EN-US\">5</span><span>的位置分别保存</span><span lang=\"EN-US\">one</span><span>、</span><span lang=\"EN-US\">three</span><span>和</span><span lang=\"EN-US\">zero</span><span>三个元素。</span><span lang=\"EN-US\"><o:p></o:p></span></p>\r\n\r\n</div><p class=\"MsoNormal\"><span lang=\"EN-US\">5</span><span>、数组的遍历（</span><span lang=\"EN-US\">foreach</span><span>，</span><span lang=\"EN-US\">list()</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">6</span><span>、超级全局变量数组（</span><span lang=\"EN-US\">$_SERVER</span><span>、</span><span lang=\"EN-US\">$_SESSION</span><span>、</span><span lang=\"EN-US\">$_POST</span><span>、</span><span lang=\"EN-US\">$_GET</span><span>）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;&nbsp; </span><span>如：</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;&nbsp;\r\n$_SERVER[‘PHP_SELF’]</span><span>：指向脚本的文件名称</span> <span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;&nbsp; $_\r\nSERVER[‘HTTP_REFERER’]</span><span>：该值显示网页的来源，即父页面</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>六、表单处理</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、</span><span lang=\"EN-US\">GET</span><span>和</span><span lang=\"EN-US\">POST</span><span>方法的区别</span><span lang=\"EN-US\"><o:p></o:p></span></p><pre><!--[if !supportLists]--><span lang=\"EN-US\">1)<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">get</span><span>是从服务器上获取数据，</span><span lang=\"EN-US\">post</span><span>是向服务器传送数据。</span><span lang=\"EN-US\"><o:p></o:p></span></pre><pre><!--[if !supportLists]--><span lang=\"EN-US\">2)<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">get</span><span>是把参数数据队列加到提交表单的</span><span lang=\"EN-US\">ACTION</span><span>属性所指的</span><span lang=\"EN-US\">URL</span><span>中，值和表单内各个字段一一对应，在</span><span lang=\"EN-US\">URL</span><span>中可以看到。</span><span lang=\"EN-US\">post</span><span>是通过</span><span lang=\"EN-US\">HTTP post</span><span>机制，将表单内各个字段与其内容放置在</span><span lang=\"EN-US\">HTML HEADER</span><span>内一起传送到</span><span lang=\"EN-US\">ACTION</span><span>属性所指的</span><span lang=\"EN-US\">URL</span><span>地址。用户看不到这个过程。</span><span lang=\"EN-US\"><o:p></o:p></span></pre><pre><!--[if !supportLists]--><span lang=\"EN-US\">3)<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>对于</span><span lang=\"EN-US\">get</span><span>方式，服务器端用</span><span lang=\"EN-US\">Request.QueryString</span><span>获取变量的值，对于</span><span lang=\"EN-US\">post</span><span>方式，服务器端用</span><span lang=\"EN-US\">Request.Form</span><span>获取提交的数据。</span><span lang=\"EN-US\"><o:p></o:p></span></pre><pre><!--[if !supportLists]--><span lang=\"EN-US\">4)<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">get</span><span>传送的数据量较小，不能大于</span><span lang=\"EN-US\">2KB</span><span>。</span><span lang=\"EN-US\">post</span><span>传送的数据量较大，一般被默认为不受限制。但理论上，</span><span lang=\"EN-US\">IIS4</span><span>中最大量为</span><span lang=\"EN-US\">80KB</span><span>，</span><span lang=\"EN-US\">IIS5</span><span>中为</span><span lang=\"EN-US\">100KB</span><span>。</span><span lang=\"EN-US\"><o:p></o:p></span></pre><pre><!--[if !supportLists]--><span lang=\"EN-US\">5)<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">get</span><span>安全性非常低，</span><span lang=\"EN-US\">post</span><span>安全性较高。但是执行效率却比</span><span lang=\"EN-US\">Post</span><span>方法好。</span><span lang=\"EN-US\"><o:p></o:p></span></pre><pre><span lang=\"EN-US\">&nbsp;</span></pre><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、客户端验证和服务器端验证的优缺点</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>利用客户端验证的好处是用户反馈快，无需直接到服务器请求信息后再下载</span><span lang=\"EN-US\">HTML</span><span>页，缺点是不同浏览器支持的</span><span lang=\"EN-US\">java</span><span>脚本不完全相同，客户端验证会出现安全问题。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>服务器端验证优点在于：它更安全，与所有浏览器无缝对接；缺点是代价稍高，用户反馈慢，增加了服务器的负荷。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、要进行客户端验证，须调用</span><span lang=\"EN-US\">javascript</span><span>脚本文件中的函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>进行客户端验证步骤如下：</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）需要在</span><span lang=\"EN-US\">javascript</span><span>脚本文件“</span><span lang=\"EN-US\">***.js</span><span>”中定义函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）需要在表单页面头部包含如下代码</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&lt;script language=</span><span>“</span><span lang=\"EN-US\">javascript</span><span>”</span><span lang=\"EN-US\"> src=</span><span>“</span><span lang=\"EN-US\">&nbsp;***.js</span><span>“</span><span lang=\"EN-US\">&gt;&lt;/script&gt;<o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">3</span><span>）需要在</span><span lang=\"EN-US\">form</span><span>表单中使用</span><span lang=\"EN-US\">onsubmit</span><span>事件触发</span><span lang=\"EN-US\">javascript</span><span>中的函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>七、面向对象</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、</span><span>重要特性：封装、继承、多态</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、定义类：</span><span lang=\"EN-US\">class</span><span>关键字</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、实例化对象：</span><span lang=\"EN-US\">new</span><span>关键字</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、在类定义内部来访问其自身的成员变量和方法：</span><span lang=\"EN-US\">$this<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">5</span><span>、调用类的方法和属性的运算符是“</span><span lang=\"EN-US\">-&gt;</span><span>”</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">6</span><span>、抽象类、接口类</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>八、</span><span lang=\"EN-US\">PHP</span><span>连接到</span><span lang=\"EN-US\">mysql</span><span>数据库的操作五大步骤</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、设定</span><span lang=\"EN-US\">mysql</span><span>服务器</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、连接数据库服务器：</span><span lang=\"EN-US\">mysql_connect()</span><span>函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、选择数据库：</span><span lang=\"EN-US\">mysql_select_db()</span><span>函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、建立一个查询并执行：</span><span lang=\"EN-US\">mysql_query()</span><span>函数，若执行的是查询操作，则执行完</span><span lang=\"EN-US\">mysql_query</span><span>函数后，可通过</span><span lang=\"EN-US\">mysql_fetch_array()</span><span>函数来获取数据库的一行。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">5</span><span>、关闭数据库：</span><span lang=\"EN-US\">mysql_close()</span><span>函数</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>九、叮当网上书店项目</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（一）注册模块</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、要使用</span><span lang=\"EN-US\">javascript</span><span>脚本文件中的函数，需要在</span><span lang=\"EN-US\">form</span><span>中调用</span><span lang=\"EN-US\">onsubmit</span><span>事件进行客户端验证</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、</span><span>在进行注册时，如何检查用户名是否已被注册过</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、出现编码错误后的解决方法</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）需要将字符集改为</span><span lang=\"EN-US\">utf-8<o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）使用</span><span lang=\"EN-US\">@mysql_query(\"SET NAMES\r\nutf8\")</span><span>屏蔽错误</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、点击提交按钮提交时，无反应可能是里面有同名的表单域，变量名前后不符，引用的方法名不同</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">5</span><span>、客户端验证无反应</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）表头没有写</span><span lang=\"EN-US\">&lt;script&gt;</span><span>……</span><span lang=\"EN-US\">&lt;/script&gt;</span><span>引用该</span><span lang=\"EN-US\">java</span><span>脚本文件</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）</span><span lang=\"EN-US\">form</span><span>的</span><span lang=\"EN-US\">name</span><span>值与定义的</span><span lang=\"EN-US\">javascript</span><span>脚本函数中的名称不同</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">3</span><span>）表单域中的名称与</span><span lang=\"EN-US\">javascript</span><span>脚本函数中的表单名称不符</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（二）登录模块</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、两种会话技术的特点</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">cookie</span><span>的特点：保存于客户端，</span><span lang=\"EN-US\">IE</span><span>中有缓存文件夹，对应网站用户登录信息。不会加大服务器压力，能长期保存。可以被伪造，浏览器禁用时就无法使用。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;&nbsp;&nbsp; Session</span><span>的</span><span>特点：保存与服务器端，可指定文件夹。特点：增大服务器压力，安全性高，不能长期保存，浏览器关闭后，将从服务器端注销。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、启动</span><span lang=\"EN-US\">session</span><span>，注意点</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">session_star()</span><span>，</span><span lang=\"EN-US\">//</span><span>初始化</span><span lang=\"EN-US\">session</span><span>，需要放在头部输出之前，任何语句之前。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、用</span><span lang=\"EN-US\">$_SESSION[\'name\']</span><span>获取对应的</span><span lang=\"EN-US\">session</span><span>值</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、如何保存</span><span lang=\"EN-US\">session</span><span>值，并将其传递到其他页面，显示该值</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）调用</span><span lang=\"EN-US\">session_id()</span><span>函数生成</span><span lang=\"EN-US\">SID</span><span>，每个</span><span lang=\"EN-US\">Session</span><span>会话都具有唯一的</span><span lang=\"EN-US\">Session ID</span><span>，用以跟踪来自不同的客户端。</span><span lang=\"EN-US\">Session ID</span><span>是一个较长字母串，通过</span><span lang=\"EN-US\">PHP</span><span>的一页一页之间的连续传递，使</span><span lang=\"EN-US\">Session</span><span>得为维持。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）使用</span><span lang=\"EN-US\">fwrite()</span><span>函数将</span><span lang=\"EN-US\">SID</span><span>写入</span><span lang=\"EN-US\">session_id.txt</span><span>文本文件中</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">3</span><span>）使用</span><span lang=\"EN-US\">$_SESSION[]</span><span>全局变量数组设置当前登录的用户名和时间：</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">Ø<span>&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">$_SESSION[$session_name]=$loginusername;<o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">Ø<span>&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">$_SESSION[$session_name_time]=$all_time;<o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">4</span><span>）其他页面使用</span><span lang=\"EN-US\">fread()</span><span>函数读取保存在指定位置文件</span><span lang=\"EN-US\">session_id.txt</span><span>中的</span><span lang=\"EN-US\">SID</span><span>值，实现多个页面之间</span><span lang=\"EN-US\">session</span><span>值的传递，并使用</span><span lang=\"EN-US\">$_SESSION[]</span><span>全局变量数组获取当前登录的用户名和时间。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">5</span><span>、如何删除</span><span lang=\"EN-US\">session<o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）</span><span lang=\"EN-US\">unset($_SESSION[name]);&nbsp;&nbsp; //</span><span>删除一个</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）</span><span lang=\"EN-US\">session_destroy()</span><span>；</span><span lang=\"EN-US\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n//</span><span>消耗所有</span><span lang=\"EN-US\">session<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">6</span><span>、登录的流程（流程图见讲稿第</span><span lang=\"EN-US\">11</span><span>讲）：</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.1<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>客户端验证（使用</span><span lang=\"EN-US\">javascirpt</span><span>或者</span><span lang=\"EN-US\">JQery</span><span>验证）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.2<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>获取控件值并替换特殊符号（使用</span><span lang=\"EN-US\">$_POST[]</span><span>全局变量获取，注意</span><span lang=\"EN-US\">$_POST[]</span><span>数组的索引名必须与</span><span lang=\"EN-US\">form</span><span>表单中控件名一致）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.3<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>服务器端验证（判断输入的用户名、密码是否为空以及是否合法）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.4<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>判断输入的用户名是否存在（</span><span lang=\"EN-US\">SQL</span><span>语句如何写？）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.5<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>检查密码是否正确（如何判断的？）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.6<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>设置</span><span lang=\"EN-US\">session</span><span>保存当前登录的用户名</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">6.7<span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><!--[endif]--><span>修改当前登录用户登录的次数以及最后一次登录的时间（</span><span lang=\"EN-US\">SQL</span><span>语句如何写？）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>（三）添加图书</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、要使用</span><span lang=\"EN-US\">FCKeditor</span><span>插件，需要使用</span><span lang=\"EN-US\">include_once(\"FCKeditor/fckeditor.php\");<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、如何从数据库中获取已有图书的分类</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、客户端验证</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、服务器端验证</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">5</span><span>、检查数据库中是否已存在需添加的图书（如何判断？）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">6</span><span>、添加图书代码（通过定义</span><span lang=\"EN-US\">SQL</span><span>语句并执行</span><span lang=\"EN-US\">SQL</span><span>语句将新书写入到库中）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>（四）图书管理</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、分页管理的原理（讲稿第</span><span lang=\"EN-US\">13</span><span>讲）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、</span><span lang=\"EN-US\">GET</span><span>方法的使用</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、对相应图书进行编辑、删除等功能的实现方法和步骤</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>例如：</span><span>点击编辑图书显示图书所有信息？？？</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">Ø<span> </span></span><!--[endif]--><span>解决方法：通过图书的</span><span lang=\"EN-US\">ISBN</span><span>进行传递</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">Ø<span> </span></span><!--[endif]--><span>步骤：</span><span lang=\"EN-US\">1</span><span>、在</span><span lang=\"EN-US\">books.php</span><span>页面中定义</span><span lang=\"EN-US\">GET</span><span>中的参数（</span><span lang=\"EN-US\">id</span><span>号）。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">2、<span>&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">GET</span><span>方法传递给相应参数。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">3、<span>&nbsp; </span></span><!--[endif]--><span>在数据库中读取相应数据。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>（五）添加图书分类</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、客户端验证</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、添加图书分类代码</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">1</span><span>）判断图书分类是否为空代码</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">2</span><span>）判断该图书分类是否已占用</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>（</span><span lang=\"EN-US\">3</span><span>）写入到库并成功代码</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\"><span>（六）图书分类管理</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、分页管理的原理</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、</span><span lang=\"EN-US\">GET</span><span>方法的使用</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、对相应图书分类进行编辑、删除功能的实现方法和步骤</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>比如：</span><span>如何点击删除图书分类就能删除该图书分类</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">Ø<span> </span></span><!--[endif]--><span>解决方法：通过图书的</span><span lang=\"EN-US\">ISBN</span><span>进行传递</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">Ø<span> </span></span><!--[endif]--><span>步骤：</span><span lang=\"EN-US\">1</span><span>、在</span><span lang=\"EN-US\">booktypes.php</span><span>页面中定义</span><span lang=\"EN-US\">GET</span><span>中的参数（</span><span lang=\"EN-US\">id</span><span>号）。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">2、<span>&nbsp; </span></span><!--[endif]--><span lang=\"EN-US\">GET</span><span>方法传递给相应参数。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><!--[if !supportLists]--><span lang=\"EN-US\">3、<span>&nbsp; </span></span><!--[endif]--><span>在数据库中删除相应数据。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">&nbsp;</span></p><p class=\"MsoNormal\"><span>（七）上传图书封面图片</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">1</span><span>、</span><span>静态页面中表单域的</span><span lang=\"EN-US\">type</span><span>类型是</span><span lang=\"EN-US\">file</span><span>，定义一个</span><span lang=\"EN-US\">hidden</span><span>域，编写一个获取</span><span lang=\"EN-US\">url</span><span>的函数，</span><span lang=\"EN-US\">type</span><span>域中使用</span><span lang=\"EN-US\">onblur</span><span>事件调用该函数，获取</span><span lang=\"EN-US\">hidden</span><span>表单域的地址。</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">2</span><span>、使用文件域控件上传图片时，需要为</span><span lang=\"EN-US\">form</span><span>指定</span><span lang=\"EN-US\">enctype</span><span>属性值为</span><span lang=\"EN-US\">multipart/form-data</span><span>，</span><span lang=\"EN-US\">method</span><span>方法为</span><span lang=\"EN-US\">post<o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">3</span><span>、图片上传的基本流程（讲稿第</span><span lang=\"EN-US\">12</span><span>讲）</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span lang=\"EN-US\">4</span><span>、使用</span><span lang=\"EN-US\">$_FILES</span><span>全局变量来获取通过</span><span lang=\"EN-US\">file</span><span>类型的表单控件提交上来的文件属性</span><span lang=\"EN-US\"><o:p></o:p></span></p><p class=\"MsoNormal\"><span>图片文件在服务器端的临时文件名：</span><span lang=\"EN-US\">$uploadfiletempname=$_FILES[\'uploadfile\'][\'tmp_name\'];<o:p></o:p></span></p><p class=\"MsoNormal\"><span>客户端机器文件的原名称：</span><span lang=\"EN-US\">$uploadfilename=$_FILES[\'uploadfile\'][\'name\'];<o:p></o:p></span></p><p class=\"MsoNormal\"><span>已上传文件的大小，单位是字节：</span><span lang=\"EN-US\">$uploadfilesize=$_FILES[\'uploadfile\'][\'size\'];<o:p></o:p></span></p><p class=\"MsoNormal\"><span>已上传文件的类型：</span><span lang=\"EN-US\">$uploadfilesize=$_FILES[\'uploadfile\'][\'type\'];<o:p></o:p></span></p><p>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</p><p class=\"MsoNormal\"><span lang=\"EN-US\">6</span><span>、将图片信息写入到库的</span><span lang=\"EN-US\">sql</span><span>语句</span><span lang=\"EN-US\"><o:p></o:p></span></p>','0','0','0','1541926281','1541926281'), ('5','测试','测试','0','','<pre lay-lang=\"PHP\"><!--?php\r\nnamespace app\\index\\controller;\r\n\r\nuse think\\Controller;\r\nuse think\\swoole\\facade\\Task;\r\nuse think\\swoole\\facade\\Timer;\r\nclass Index extends Controller\r\n{\r\n    public function index()\r\n    {\r\n        $list=db(\'article\')--->select();\r\n        $this-&gt;assign(\'list\',$list);\r\n        return $this-&gt;fetch();\r\n    }\r\n\r\n    public function details()\r\n    {\r\n        $article_id=input(\'id\',0,\'intval\');\r\n        if(!$article_id) return $this-&gt;error(\'参数错误\');\r\n        $data=db(\'article\')-&gt;where(\'id\',\'=\',$article_id)-&gt;find();\r\n        $this-&gt;assign(\'data\',$data);\r\n        return $this-&gt;fetch();\r\n    }\r\n\r\n    public function index2()\r\n    {\r\n        Task::async(function ($serv, $task_id, $data) {\r\n            $i = 0;\r\n            while ($i &lt; 10) {\r\n                $i++;\r\n                echo $i;\r\n                sleep(1);\r\n            }\r\n        });\r\n        $timeid=Timer::tick(1000,function(){\r\n            var_dump(1);\r\n        });\r\n        return $timeid;\r\n    }\r\n\r\n    public function test($timeid)\r\n    {\r\n        Timer::clear($timeid);\r\n    }\r\n}\r\n</pre>','0','0','0','1541926281','1541926281'), ('6','测试','测试','0','','是的的话<pre lay-lang=\"JavaScript\"><!--?php\r\nnamespace app\\index\\controller;\r\n\r\nuse think\\Controller;\r\nuse think\\swoole\\facade\\Task;\r\nuse think\\swoole\\facade\\Timer;\r\nclass Index extends Controller\r\n{\r\n    public function index()\r\n    {\r\n        $list=db(\'article\')--->select();\r\n        $this-&gt;assign(\'list\',$list);\r\n        return $this-&gt;fetch();\r\n    }\r\n\r\n    public function details()\r\n    {\r\n        $article_id=input(\'id\',0,\'intval\');\r\n        if(!$article_id) return $this-&gt;error(\'参数错误\');\r\n        $data=db(\'article\')-&gt;where(\'id\',\'=\',$article_id)-&gt;find();\r\n        $this-&gt;assign(\'data\',$data);\r\n        return $this-&gt;fetch();\r\n    }\r\n\r\n    public function index2()\r\n    {\r\n        Task::async(function ($serv, $task_id, $data) {\r\n            $i = 0;\r\n            while ($i &lt; 10) {\r\n                $i++;\r\n                echo $i;\r\n                sleep(1);\r\n            }\r\n        });\r\n        $timeid=Timer::tick(1000,function(){\r\n            var_dump(1);\r\n        });\r\n        return $timeid;\r\n    }\r\n\r\n    public function test($timeid)\r\n    {\r\n        Timer::clear($timeid);\r\n    }\r\n}\r\n</pre>','0','0','0','1541926281','1541926281'), ('7','cccccccc','ccccccccc','0','','cddd<pre lay-lang=\"PHP\"><!--?php\r\nnamespace app\\index\\controller;\r\n\r\nuse think\\Controller;\r\nuse think\\swoole\\facade\\Task;\r\nuse think\\swoole\\facade\\Timer;\r\nclass Index extends Controller\r\n{\r\n    public function index()\r\n    {\r\n        $list=db(\'article\')--->select();\r\n        $this-&gt;assign(\'list\',$list);\r\n        return $this-&gt;fetch();\r\n    }\r\n\r\n    public function details()\r\n    {\r\n        $article_id=input(\'id\',0,\'intval\');\r\n        if(!$article_id) return $this-&gt;error(\'参数错误\');\r\n        $data=db(\'article\')-&gt;where(\'id\',\'=\',$article_id)-&gt;find();\r\n        $this-&gt;assign(\'data\',$data);\r\n        return $this-&gt;fetch();\r\n    }\r\n\r\n    public function index2()\r\n    {\r\n        Task::async(function ($serv, $task_id, $data) {\r\n            $i = 0;\r\n            while ($i &lt; 10) {\r\n                $i++;\r\n                echo $i;\r\n                sleep(1);\r\n            }\r\n        });\r\n        $timeid=Timer::tick(1000,function(){\r\n            var_dump(1);\r\n        });\r\n        return $timeid;\r\n    }\r\n\r\n    public function test($timeid)\r\n    {\r\n        Timer::clear($timeid);\r\n    }\r\n}\r\n</pre>','0','0','0','1541926281','1541926281'), ('8','fsdfs','dsf','3','','<pre lay-lang=\"JavaScript\">dsfsdfsdfsdfsdfsdf</pre>','13','0','0','1541926281','1541936514'), ('9','去去去','调度','0','','<pre lay-lang=\"PHP\">public function index()\r\n    {\r\n        $list=db(\'article\')-&gt;select();\r\n        $this-&gt;assign(\'list\',$list);\r\n        return $this-&gt;fetch();\r\n    }</pre>','12','0','0','1541926281','1541933446'), ('10','33','332','1','','温热污染','3','0','0','1541932482','1541939490'), ('11','43','345','0','','435435','1','0','0','1541932536','1541937049'), ('12','热热热','热','0','','&nbsp;二分法防守打法','1','0','0','1541932614','1541933505'), ('13','测试','11','0','','','2','0','0','1541936187','1541939482'), ('14','测试','测试','0','','','3','0','0','1541936674','1541939464'), ('15','擦擦擦','下次','0','','','1','0','0','1541939507','1541939517'), ('16','234','2342','0','','','0','0','0','1541939565','1541939565'), ('17','问','问','0','','','0','0','0','1541939957','1541939957'), ('18','味儿','味儿','0','','儿童','0','0','0','1541940158','1541940158'), ('19','234','2342','0','','','0','0','0','1541940207','1541940207'), ('20','3424','2342','0','','23422','0','0','0','1541940269','1541940269'), ('21','尔特突然','无人v','0','','<pre lay-lang=\"JavaScript\">味儿v</pre>','1','0','0','1541940318','1541940518'), ('22','435','3533','0','','<pre><span>&lt;</span><span>script</span><span>&gt;</span><br>    <span>alert</span>(<span>1</span>);<br><span>&lt;/</span><span>script</span><span>&gt;</span></pre>','1','0','0','1541940706','1541940713');
INSERT INTO `think_article_class` VALUES ('1','PHP','1541926281','1541926281'), ('2','MYSQL','1541926281','1541926281'), ('3','Nginx','1541926281','1541926281'), ('4','Linux','1541926281','1541926281'), ('5','Web前端','1541926281','1541926281'), ('6','杂文随笔','1541926281','1541926281');
INSERT INTO `think_auth_group` VALUES ('1','管理员组','1','1,2,3,4,5,6,8,9,10','0','1494407780'), ('2','普通用户组','1','1,2,3,4,10,13,14,18,19','0','1494308736');
INSERT INTO `think_auth_group_access` VALUES ('1','1'), ('2','2');
INSERT INTO `think_auth_rule` VALUES ('1','#','首页','0','1','1','','1','fa fa-home','1'), ('2','#','用户管理','0','1','1','','1','fa fa-user','1'), ('3','admin/userList','用户列表','2','1','1','','1',NULL,'1'), ('4','admin/groupList','用户组列表','2','1','1','','1',NULL,'1'), ('5','admin/edit','添加用户','2','1','1','','0','','1'), ('6','#','系统管理','0','1','1','','1','fa fa-cog','1'), ('7','admin/cleanCache','清除缓存','6','1','1','','1','','1'), ('8','admin/menu','菜单管理','6','1','1','','1','','1'), ('9','admin/home','系统信息','1','1','1','','1','','1'), ('10','admin/log','日志管理','6','1','1','','1','','1'), ('11','admin/editMenu','编辑菜单','6','1','1','','0','','1'), ('12','admin/deleteMenu','删除菜单','6','1','1','','0','','1'), ('13','admin/config','系统配置','6','1','1','','1','','1'), ('14','admin/siteConfig','站点配置','6','1','1','','1','','1'), ('15','#','文章管理','0','1','1','','1','','1'), ('16','admin/blog','文章列表','15','1','1','','1','','1'), ('17','admin/addBlog','添加文章','15','1','1','','1','','1');
INSERT INTO `think_config` VALUES ('1','system_config','系统配置','{\"debug\": \"0\", \"trace\": \"0\", \"trace_type\": \"0\"}','0','1523414007','1531729547'), ('2','site_config','站点配置','{\"icp\": \"苏ICP备17056337号\", \"name\": \"tpswoole\", \"title\": \"tpswoole\", \"copyright\": \"copyright @2018 原点\"}','1','1523414007','1536478335');
INSERT INTO `think_login_log` VALUES ('1','1','admin','admin','127.0.0.1','1541746960'), ('2','1','admin','admin','127.0.0.1','1541932454');
INSERT INTO `think_user` VALUES ('1','admin','admin',NULL,'$2y$10$HLh4UHoluqLvwsNN6vQxz.tuKMA5xYp6rH2vOpA.74sxiQbjwm2My','89','127.0.0.1','1541932454','1','1','0','1541932454'), ('2','admin1','admin1',NULL,'$2y$10$HLh4UHoluqLvwsNN6vQxz.tuKMA5xYp6rH2vOpA.74sxiQbjwm2My','13','127.0.0.1','1535891091','1','1','0','1535891091');
